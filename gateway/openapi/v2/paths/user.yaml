who:
  get:
    summary: Returns UID of authenticated user.
    description: Returns UID of authenticated user.
    tags:
      - user
    responses:
      '200':
        description: A JSON document containing user record
        content:
          application/json:
            schema:
              $ref: "../components/schemas/user.yaml"
      '401':
        $ref: "../components/responses/default.yaml#/noauth"

list_all:
  get:
    summary: List all user.
    description: List all user.
    tags:
      - user
    parameters:
      - $ref: '../components/parameters/offset.yaml'
      - $ref: '../components/parameters/limit.yaml'
    responses:
      '200':
        description: An array of user documents
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../components/schemas/user.yaml"
      '401':
        $ref: "../components/responses/default.yaml#/noauth"

list_collab:
  get:
    summary: List collaborating users.
    description: List collaborating users.
    tags:
      - user
    parameters:
      - $ref: '../components/parameters/offset.yaml'
      - $ref: '../components/parameters/limit.yaml'
    responses:
      '200':
        description: An array of user documents
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../components/schemas/user.yaml"
      '401':
        $ref: "../components/responses/default.yaml#/noauth"

find:
  post:
    summary: Find user.
    description: Find user by partial name or UID.
    tags:
      - user
    parameters:
      - name: name_uid
        in: query
        description: Partial name or UID string to match
        schema:
          type: string
    responses:
      '200':
        description: An array of user documents
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../components/schemas/user.yaml"
      '204':
        $ref: "../components/responses/default.yaml#/ack"
      '401':
        $ref: "../components/responses/default.yaml#/noauth"

view:
  get:
    summary: View user information.
    description: View user information.
    tags:
      - user
    parameters:
      - name: details
        in: query
        description: Flag to return user details
        schema:
          type: boolean
    responses:
      '200':
        description: A user document
        content:
          application/json:
            schema:
              $ref: "../components/schemas/user.yaml"
      '401':
        $ref: "../components/responses/default.yaml#/noauth"

