category_list:
  get:
    summary: List catalog categories.
    description: List catalog categories. If a parent category is supplied,
      sub-categories of the parent are listed; otherwise top-level categories
      are listed.
    tags:
      - catalog
    parameters:
      - name: parent
        in: query
        description: Parent category name
        schema:
          type: string
      - $ref: '../components/parameters/offset.yaml'
      - $ref: '../components/parameters/limit.yaml'
    responses:
      '200':
        description: A list of category documents including id, name, and statistics.
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../components/schemas/category.yaml"
      '401':
        $ref: "../components/responses/default.yaml#/noauth"

category_search:
  post:
    summary: Search for catalog categories by name.
    description: Search for catalog categories by name with root word analysis.
    tags:
      - catalog
    parameters:
      - name: name
        in: query
        description: Category name to match
        schema:
          type: string
          minLength: 3
      - $ref: '../components/parameters/offset.yaml'
      - $ref: '../components/parameters/limit.yaml'
    responses:
      '200':
        description: An array of matching category documents
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "../components/schemas/category.yaml"
      '400':
        $ref: "../components/responses/default.yaml#/nack"
      '401':
        $ref: "../components/responses/default.yaml#/noauth"

category_view:
  get:
    summary: View catalog category information.
    description: View catalog category information.
    tags:
      - catalog
    parameters:
      - name: id
        in: query
        required: true
        description: Category ID
        schema:
          type: string
    responses:
      '200':
        description: A category document
        content:
          application/json:
            schema:
              $ref: "../components/schemas/category.yaml"
      '400':
        $ref: "../components/responses/default.yaml#/nack"
      '401':
        $ref: "../components/responses/default.yaml#/noauth"
